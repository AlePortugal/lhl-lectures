### Rails Review and All things Rails

I hope you had a good week going through Jungle and finished up main side of it.
Today we will be doing a quick overview of rails + some advanced topics in it.


#### Review - What is Rails??

Ruby on Rails, or Rails, is a server-side web application framework written in Ruby under the MIT License. Rails is a model–view–controller framework, providing default structures for a database, a web service, and web pages.

Key things to remember that

 - `routes.rb` is the entry point of your app. All route paths go here and are connected to the corresponding controller that will.

 - Controller is responsible for logic and getting the `@` variables to your view. Remember that the methods : `create, index, show` are names the views that will be rendered for thouse methods. ( Hence, when you call `/authors` route, it will hit the `authorsController`  which will use the `index` method)

 - Model is resposible for the connectivity to the database and handling database queries. ( A better answer is: for handling data and business logic)

 - Views are files that handle the GUI for the user. Essential rails server-side renders the views, and sends them out the client.

#### Commands used in Demo

`rails g model Author` <- creates migration and model for author
`rails g controller authors` <- creates authors controller (notice plural)
`rails g scaffold ______` <- to generate an entire scaffold of view controllers model and migrations [Scaffold Reference](https://qiita.com/Kolosek/items/697ad33bb82932ebed73)

#### Rails influenced alot of Features for Other MVC Frameworks
As we discussed some of the features, key things to also remember that learning MVC pattern is beneficial, due to the amount of MVC frameworks.


#### Nested Routes

We define the nesting in our routes. In routes.rb you say:

```ruby
  resources :authors do
    resources :books
  end
```

Will generate

```
 product_books GET    /authors/:author_id/books(.:format)                                                  books#index
                 POST   /authors/:author_id/books(.:format)                                                  books#create
 new_product_review GET    /authors/:author_id/books/new(.:format)                                              books#new
 edit_product_review GET    /authors/:author_id/books/:id/edit(.:format)                                         books#edit
 product_review GET    /authors/:author_id/books/:id(.:format)                                              books#show
                PATCH  /authors/:author_id/books/:id(.:format)                                              books#update
                PUT    /authors/:author_id/books/:id(.:format)                                              books#update
                DELETE /authors/:author_id/books/:id(.:format)                                              books#destroy
```

Notice that these routes will be affected by the `books` Controller.
 All the logic will go there to work with these nested routes.


 There are some nice helpful path helpers that get generated by this nested resource stuff. If you look at rake routes, you'll see the prefixes for these under PREFIX. For example, the path `/authors/5/books` could be generated by calling product_review(@product).


### Namespaces

Namespacing gives us a way to define a bunch of routes that should be followed by some prefix (e.g. .../dashboard/...). We can do this in the routes file:

```ruby
  namespace :dashboard do
    resources :authors
  end

```

The example above will generate a bunch of /dashboard/authors/... routes, and point them to particular actions in the relevant controllers. Remeber that these said controllers now live in a folder called `dashboard` ( Kinda what you have on jungle where there is an `admin` folder and some controllers live in there )


```ruby
# controllers/dashboard/authors_controller.rb
class Dashboard::AuthorsController < ApplicationController
  # . . . . .
end
```

#### Final Project - How to use Rails and React

Setup rails as an api with: `rails new blog --api`
And have react fetch or axios call the rails routes.

[Tutorial for this.](https://medium.com/@pamit/todo-list-building-a-react-app-with-rails-api-7a3027907665)

You can also use rails gems to render server-side react.

[React for Rails Gem](https://github.com/reactjs/react-rails)


